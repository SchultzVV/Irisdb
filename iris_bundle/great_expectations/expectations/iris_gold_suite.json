{
  "data_asset_type": "Table", 
  "expectation_suite_name": "iris_gold_suite",
  "expectations": [
    {
      "expectation_type": "expect_table_row_count_to_equal",
      "kwargs": {
        "value": 3
      },
      "meta": {
        "notes": "Gold layer deve ter exatamente 3 registros (uma linha por espécie)"
      }
    },
    {
      "expectation_type": "expect_table_columns_to_match_set",
      "kwargs": {
        "column_set": [
          "species",
          "avg_sepal_length",
          "avg_sepal_width",
          "avg_petal_length", 
          "avg_petal_width",
          "count_records",
          "sepal_area_avg",
          "petal_area_avg"
        ]
      },
      "meta": {
        "notes": "Colunas esperadas após agregação"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_in_set",
      "kwargs": {
        "column": "species",
        "value_set": ["setosa", "versicolor", "virginica"]
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "avg_sepal_length"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "avg_sepal_width"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "avg_petal_length"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "avg_petal_width"
      }
    },
    {
      "expectation_type": "expect_column_values_to_not_be_null",
      "kwargs": {
        "column": "count_records"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "count_records",
        "min_value": 40,
        "max_value": 60
      },
      "meta": {
        "notes": "Cada espécie deve ter aproximadamente 50 registros"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "avg_sepal_length",
        "min_value": 4.0,
        "max_value": 8.0
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "avg_sepal_width",
        "min_value": 2.0,
        "max_value": 4.5
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "sepal_area_avg",
        "min_value": 8.0,
        "max_value": 25.0
      },
      "meta": {
        "notes": "Área da sépala (comprimento * largura) por espécie"
      }
    },
    {
      "expectation_type": "expect_column_values_to_be_between",
      "kwargs": {
        "column": "petal_area_avg",
        "min_value": 0.5,
        "max_value": 15.0
      },
      "meta": {
        "notes": "Área da pétala (comprimento * largura) por espécie"
      }
    }
  ],
  "meta": {
    "great_expectations_version": "0.15.0",
    "created_by": "iris_mlops_pipeline",
    "created_at": "2025-07-24"
  }
}

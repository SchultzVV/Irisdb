resources:
  pipelines:
    iris_pipeline:
      name: iris-lakehouse-pipeline
      target: iris_pipeline_db

      configuration:
        source: dbfs:/tmp/iris/iris.csv
        output_bronze_table: telecom_lakehouse.ml_assets.iris_bronze
        output_silver_table: telecom_lakehouse.ml_assets.iris_silver
        output_gold_table: telecom_lakehouse.ml_assets.iris_gold
        output_model: telecom_lakehouse.ml_assets.iris_model

      libraries:
        - notebook:
            path: notebooks/01_ingest_bronze.py
        - notebook:
            path: notebooks/02_transform_silver.py
        - notebook:
            path: notebooks/03_aggregate_gold.py
        - notebook:
            path: notebooks/04_train_model.py
        - notebook:
            path: notebooks/05_batch_inference.py
